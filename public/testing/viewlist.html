<!DOCTYPE html>
<html>
   <head>
     <title>GameDex View</title>
    <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <link rel="stylesheet" href="css/global.css" type="text/css">
   </head>

   <body>
<script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
<script src="js/base.js"></script>

  <script type="text/javascript">

    /**
     * initApp handles setting up UI event listeners and registering Firebase auth listeners:
     *  - firebase.auth().onAuthStateChanged: This listener is called when the user is signed in or
     *    out, and that is where we update the UI.
     */
    function initApp() {
      // Listening for auth state changes.
      // [START authstatelistener]
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in.
          var displayName = user.displayName;
          var email = user.email;
          var emailVerified = user.emailVerified;
          var photoURL = user.photoURL;
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          var providerData = user.providerData;
          // [START_EXCLUDE]
          document.getElementById('personal').textContent = displayName + '\'s Games';
          // [END_EXCLUDE]
        } else {
          window.location.replace("index.html");
      }
      });
      // [END authstatelistener]
      document.getElementById('signout').addEventListener('click', signOut, false);
    }
    function signOut(){
       if (firebase.auth().currentUser) {
        // [START signout]
        firebase.auth().signOut();
        document.getElementById('personal').textContent = 'Signed Out';

        // [END signout]
      } 

    }

    window.onload = function() {
      initApp();
    };
</script> 
   <body>
      <header>
      <h1>GameDex</h1>
      <h2 id="personal"> Your Games</h2>
      <nav>
            <a href="index.html" id="signout">Logout</a>
         </nav>
      </header>

      <form> 
         <label for="query">Search for an existing game <input type="search" name="query">
         <button name="submit" type="button">Submit</button>
      </form>

      <table>
         <tr>
            <th>Name</th>
            <th>Platform</th>
            <th>Cover Art</th>
            <th>Genre</th>
            <th></th>
         </tr>
         <tr>
            <td>Baldur's Gate</td>
            <td>Windows</td>
            <td><img src="https://gamedex-2d485.firebaseapp.com/vanilla/games/coverexample.png" alt="Bauldr's Gate Cover Art"></td>
            <td>RPG</td>
            <td>
                <button name="edit" type="button" class="smallbutton" >
                   Edit
                </button>
                <button name="delete" type="button" class="smallbutton" >
                   Delete
                </button>
            </td>
         </tr>
         <tr class="even">
             <td>Baldur's Gate</td>
             <td>Windows</td>
             <td><img src="https://gamedex-2d485.firebaseapp.com/vanilla/games/coverexample.png" alt="Bauldr's Gate Cover Art"></td>
             <td>RPG</td>
             <td>
                 <button name="edit" type="button" class="smallbutton" >
                    Edit
                 </button>
                 <button name="delete" type="button" class="smallbutton" >
                    Delete
                 </button>
             </td>
         </tr>
      </table>

   </body>
</html>
